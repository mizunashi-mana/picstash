# ギャラリーページの独立化

## 目的・ゴール

現在のホームページ（`/`）には以下の3つの機能が混在している:
1. 画像アップロード（ImageDropzone）
2. おすすめセクション（RecommendationSection）
3. ギャラリーセクション（ImageGallery）

これを以下のように分離し、ギャラリーにページング機能を追加する:
- `/` - アップロード専用ページ（おすすめセクションは残す）
- `/gallery` - ギャラリー専用ページ（ページング対応）

## 現状の問題点

1. **ページング非対応**: `GET /api/images` は全画像を一度に返却
2. **メモリ負荷**: 全画像がメモリに展開される
3. **責務過多**: ホームページに複数機能が集約

## 実装方針

### 1. バックエンドAPI変更

`GET /api/images` にページングパラメータを追加:
- `limit`: 1ページあたりの件数（デフォルト: 50）
- `offset`: スキップする件数（デフォルト: 0）

レスポンス形式:
```typescript
{
  items: Image[];
  total: number;
  limit: number;
  offset: number;
}
```

### 2. フロントエンド変更

#### ルーティング追加
- `/gallery` - 新規ギャラリーページ

#### ホームページ変更
- ImageGallery コンポーネントを削除
- ギャラリーへのリンクを追加

#### ギャラリーページ
- 無限スクロール実装（TanStack Query の useInfiniteQuery）
- 検索機能は維持
- 検索履歴機能は維持

### 3. ナビゲーション更新

AppLayout のナビゲーションにギャラリーリンクを追加

## 完了条件

- [ ] `GET /api/images` がページングに対応
- [ ] `/gallery` ルートが追加され、無限スクロールで動作
- [ ] ホームページからギャラリーセクションが削除
- [ ] ナビゲーションにギャラリーリンクが追加
- [ ] 既存テストがパス
- [ ] 型チェック・lint エラーなし
- [ ] ブラウザでの動作確認

## 作業ログ

（作業中に記録）
