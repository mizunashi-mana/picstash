# タスク: ファイル名フィールドの削除

## 目的・ゴール

画像エンティティから `filename` フィールドを削除する。ファイル名はメタ情報として不要であり、内部的にも使用する必要がない。

## 現状分析

### 現在の `filename` の使用箇所

**サーバー側:**
- `Image` エンティティ（domain/image/Image.ts）
- Prisma スキーマ（Image モデル）
- ファイルアップロード時に元ファイル名を保存
- 一部の API レスポンスで返却

**クライアント側:**
- `ImageDetailPage.tsx` の「ファイル情報」セクションで表示
- `<Image>` の alt 属性で使用

### `filename` が不要な理由

1. ファイルは UUID ベースの `path` で管理されており、元のファイル名は不要
2. ユーザーにとってファイル名は有用な情報ではない（説明や属性で管理）
3. データベースの不要なカラムを削減

## 実装方針

### Phase 1: クライアント側の UI 変更
1. `ImageDetailPage.tsx` からファイル名表示を削除
2. `<Image>` の alt 属性を別の値（説明または ID）に変更
3. 他のコンポーネントで `filename` を使用している箇所を確認・修正

### Phase 2: サーバー側の API 変更
1. API レスポンスから `filename` を除外
2. `Image` エンティティから `filename` を削除
3. `CreateImageInput` から `filename` を削除
4. 関連するユースケース・コントローラーの修正

### Phase 3: データベースマイグレーション
1. Prisma スキーマから `filename` を削除
2. マイグレーションを作成・適用

## 完了条件

- [ ] クライアント側でファイル名が表示されない
- [ ] サーバー API がファイル名を返さない
- [ ] データベースに `filename` カラムが存在しない
- [ ] 全テストがパスする
- [ ] 型チェックがパスする

## 作業ログ

（実装中に記録）
