# ギャラリーページにカルーセル表示モードを追加

## 関連 Issue
https://github.com/mizunashi-mana/picstash/issues/67

## 目的・ゴール
ギャラリーページで、現在のグリッド表示に加えてカルーセル表示モードを追加し、ユーザーが表示モードを切り替えられるようにする。

## 背景
- 画像を1枚ずつ大きく表示して閲覧したいユースケースがある
- スライドショー的に画像を見たい場合に便利
- 表示モードを切り替えられることで、ユーザーの好みに応じた閲覧体験を提供できる

## 実装方針

### 1. 表示モード切り替え UI
- ギャラリーページのヘッダー部分に表示モード切り替えボタンを配置
- グリッドアイコン / カルーセルアイコンで視覚的に区別

### 2. カルーセルコンポーネント
- Mantine の既存コンポーネントまたはカスタム実装
- 左右の矢印ボタンで画像切り替え
- キーボード操作対応（←→キー）
- スワイプ操作対応（モバイル）
- 現在位置のインジケーター表示

### 3. 状態の保持
- localStorage で表示モードの選択を保持
- 次回アクセス時に前回の表示モードを復元

## 完了条件
- [x] 表示モード切り替えボタンが表示される
- [x] グリッド表示とカルーセル表示を切り替えられる
- [x] カルーセルで左右矢印による画像切り替えが動作する
- [x] キーボードの左右キーで操作できる
- [x] モバイルでスワイプ操作が可能（Embla Carousel ベースで対応）
- [x] 現在位置のインジケーターが表示される
- [x] 表示モードの選択が localStorage に保存される
- [x] ページリロード後も前回の表示モードが復元される

## 作業ログ

### 2026-01-24
- タスク開始
- `@mantine/carousel` と `embla-carousel-react` をインストール
- `useViewMode` フックを作成（localStorage で表示モードを保持）
- `ImageCarousel` コンポーネントを作成（Finder 風 UI）
- `GalleryPage` に表示モード切り替え UI を追加（ActionIcon.Group）
- ブラウザで動作確認完了
  - グリッド/カルーセル切り替え OK
  - 左右矢印ボタン OK
  - キーボード操作（←→キー）OK
  - サムネイルクリック OK
  - インジケーター表示 OK
  - localStorage 保存/復元 OK
