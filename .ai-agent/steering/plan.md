# Picstash 実装計画

## 概要

プロダクトを独自の価値を提供するセグメントに分割し、各セグメントを順次実装することで継続的に改善しながら機能を追加していく。

## セグメント一覧（全19セグメント）

### 開発環境整備（6セグメント）

| # | セグメント | 提供価値 | 状態 |
|---|-----------|---------|------|
| 0-1 | モノレポ構成・パッケージ初期化 | プロジェクト構造が整う | 完了 |
| 0-2 | TypeScript・ESLint 設定 | 型安全・コード品質が保証される | 完了 |
| 0-3 | Prisma・DB セットアップ | データ永続化の基盤が整う | 完了 |
| 0-4 | Fastify サーバー基盤 | API サーバーが動く | 完了 |
| 0-5 | React・Vite クライアント基盤 | フロントエンドが動く | 完了 |
| 0-6 | 開発サーバー統合起動 | 開発がスムーズに始められる | 完了 |

### 基盤（5セグメント）

| # | セグメント | 提供価値 | 状態 |
|---|-----------|---------|------|
| 1-1 | 画像アップロード・保存 | 画像を登録できる | 完了 |
| 1-2 | ギャラリー表示 | 登録した画像を一覧で見れる | 未着手 |
| 1-3 | サムネイル生成 | 高速に画像一覧を表示できる | 未着手 |
| 1-4 | 画像詳細表示 | 画像を大きく見れる | 未着手 |
| 1-5 | 画像削除 | 不要な画像を削除できる | 未着手 |

### 検索・整理（2セグメント）

| # | セグメント | 提供価値 | 状態 |
|---|-----------|---------|------|
| 2-1 | タグ管理・タグ付け | 画像を分類できる | 未着手 |
| 2-2 | 検索 | タグ・キーワードで画像を見つけられる | 未着手 |

### AI 自動化（4セグメント）

| # | セグメント | 提供価値 | 状態 |
|---|-----------|---------|------|
| 3-1 | 画像埋め込みベクトル生成 | AI 機能の基盤が整う | 未着手 |
| 3-2 | 自動タグ推薦 | 手動タグ付け不要になる | 未着手 |
| 3-3 | 類似画像検出 | 似た画像をまとめて見れる | 未着手 |
| 3-4 | 重複画像検出 | 重複を整理できる | 未着手 |

### コレクション（2セグメント）

| # | セグメント | 提供価値 | 状態 |
|---|-----------|---------|------|
| 4-1 | コレクション管理・画像追加 | シリーズをまとめられる | 未着手 |
| 4-2 | コレクション連続閲覧 | シリーズを順番に読める | 未着手 |

---

## 実装順序

```
開発環境整備
  0-1 モノレポ構成
   ↓
  0-2 TypeScript・ESLint
   ↓
  0-3 Prisma・DB
   ↓
  0-4 Fastify サーバー
   ↓
  0-5 React・Vite クライアント
   ↓
  0-6 統合起動
   ↓
基盤
  1-1 画像アップロード・保存
   ↓
  1-2 ギャラリー表示
   ↓
  1-3 サムネイル生成
   ↓
  1-4 画像詳細表示
   ↓
  1-5 画像削除
   ↓
検索・整理
  2-1 タグ管理・タグ付け
   ↓
  2-2 検索
   ↓
  ┌─────────────────┬─────────────────┐
  ↓                 ↓
AI 自動化         コレクション
  3-1 ベクトル生成    4-1 管理・追加
   ↓                 ↓
  3-2 自動タグ        4-2 連続閲覧
   ↓
  3-3 類似検出
   ↓
  3-4 重複検出
```

---

## 各セグメントの進め方

### 基本方針
- **対話的に進める**: 各ステップでユーザーと確認しながら実装
- **早めのフィードバック**: 動くものを早く見せて方向修正
- **小さく作って確認**: 一度に大きく作らず、小さな単位で確認

### イテレーションサイクル

```
1. 計画確認
   - 次に作るものを確認
   - 不明点があれば質問
          ↓
2. 最小実装
   - 動く最小限を実装
   - 完璧を目指さない
          ↓
3. デモ・確認
   - 動作を見せてフィードバックをもらう
   - 方向修正があれば即反映
          ↓
4. 改善・次へ
   - フィードバックを反映
   - 次の機能へ進む
```

### 確認タイミング
- データモデル設計後
- API 実装後（curl などで動作確認）
- UI の骨組み完成後
- 各機能の実装完了後
